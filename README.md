# 文件变更监控与清理工具

这是一个 Bash 脚本工具，主要用于监控和管理文件变更。适用于以下场景：

- 软件安装测试：安装新软件后，如果决定卸载，可以彻底清理所有相关文件。
- 应用程序调试：在开发和测试过程中，轻松跟踪和清理应用程序产生的文件。
- 系统安全监控：实时监控文件系统变化，及时发现未经授权的修改。
- 系统配置管理：保存和恢复系统参数，方便进行配置实验和回滚。

本工具通过实时监控文件系统变化，记录所有新增、修改的文件和目录，并提供灵活的清理选项，帮助用户精确地管理系统变更，保持系统的整洁和安全。

## 主要功能

- 实时文件系统监控：使用 inotify 技术，捕捉所有文件系统变化。
- 智能变更记录：自动记录新增文件、目录及系统参数变化。
- 灵活的清理选项：交互式界面，支持选择性清理或完全回滚。
- 白名单管理：允许用户指定不需监控或清理的文件和目录。
- 系统参数管理：保存和恢复系统参数，便于配置实验。
- 包安装监控：跟踪新安装的软件包，便于完整卸载。
- 守护进程模式：后台持续运行，实时捕捉系统变化。
- 用户友好的交互式菜单：简化操作流程，适合各级用户使用。

## 系统要求

- Linux 操作系统（已在 Debian 上测试）
- root 权限
- Bash shell (版本 4.0+)
- inotify-tools 包

## 配置

首次运行时，脚本会在当前目录下自动创建 `config.ini` 配置文件。您可以根据需要修改此文件来自定义脚本行为，如日志位置、忽略的文件模式等。

## 使用方法

### 交互式模式

启动交互式菜单：sudo ./file_monitor.sh

### 命令行模式

支持以下命令行参数：

- `start`: 启动监控守护进程
- `stop`: 停止监控守护进程
- `status`: 检查守护进程状态
- `clean`: 清理检测到的新增项目

例如，启动监控：
sudo ./file_monitor.sh start

## PS

部分地方有些小BUG懒得修复了，有能力的可以在这个基础上进行优化，不要忘了艾特我就行。
